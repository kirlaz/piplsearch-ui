(this.webpackJsonpmgap=this.webpackJsonpmgap||[]).push([[0],{180:function(e,t,a){e.exports=a.p+"static/media/defprofile.782adc2b.png"},235:function(e,t,a){e.exports=a(367)},240:function(e,t,a){},241:function(e,t,a){},362:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),s=(a(240),a(241),a(26)),o=a(27),m=a(29),u=a(28),i=a(394),d=a(186),p=a(16),E=a(25),h=a.n(E),f=a(45),b=a(4),y=a(178).create({baseURL:"http://search.mgap.ru:8081/api",withCredentials:!0}),g=function(e){var t=e.query,a=e.location,n={};return t&&t.length&&(n.query=t),a&&a.length&&(n.location=a),y.get("/oneLineSearch",{params:n})},v=function(e){return y.post("/search",Object(b.a)(Object(b.a)({},e),{},{testMode:!0}))},N=function(e){return y.post("/history",e)},O=a(34),j=Object(O.a)(),x="SET_OPEN",C="SET_CLOSE",k=function(){return{type:x}},w=function(){return{type:C}},R="SET_PERSON_INFO",F="SET_PERSONS",S="CLEAR_PERSONS",_="SET_ERROR",D="CLEAR_ERROR",H="IS_FETCHING",P="SET_QUERY",I=function(e,t){200===e.status&&(e.data.person?t(G({person:e.data.person,searchQuery:e.data.query})):e.data.possible_persons?t(A({possible_persons:e.data.possible_persons,searchQuery:e.data.query})):(t(M()),t(L(e.data.query))),t(U()),t(w()))},L=function(e){return{type:P,searchQuery:e}},Q=function(e,t){return function(){var a=Object(f.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(B(!0)),g({query:e,location:t}).then((function(e){n(B(!1)),I(e,n),j.push("/results")})).catch((function(e){e.response&&n(z(e.response.data.message)),n(B(!1)),n(w())}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},U=function(){return{type:D}},T=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(B(!0)),v(e).then((function(e){a(B(!1)),I(e,a),j.push("/results")})).catch((function(e){e.response&&a(z(e.response.data.message)),a(B(!1)),a(w())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(e){var t=e.person,a=e.personsCount,n=e.searchQuery;return{type:R,payload:{person:t,personsCount:a,searchQuery:n}}},A=function(e){var t=e.possible_persons,a=e.personsCount,n=e.searchQuery;return{type:F,payload:{possible_persons:t,personsCount:a,searchQuery:n}}},M=function(){return{type:S}},z=function(e){return{type:_,status:e}},B=function(e){return{type:H,isFetching:e}},q="SET_TOP_HISTORY",Y="SET_HISTORY",J="SET_USERS",W="HISTORY_FAILED",V=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(B(!0)),t.next=3,(n=e,y.get("/getFromHistory",{params:{searchHistoryId:n}})).then((function(e){a(B(!1)),a(M()),200===e.status&&(e.data.person?a(G({person:e.data.person,personsCount:e.data["@persons_count"],searchQuery:e.data.query})):e.data.possible_persons&&a(A({possible_persons:e.data.possible_persons,personsCount:e.data["@persons_count"],searchQuery:e.data.query})))})).catch((function(e){a(B(!1)),a(M()),e.response&&400===e.response.status?a(z("Bad request")):e.response&&401===e.response.status?a(z("You're not authorized")):e.response&&500===e.response.status?a(z("Server problem appeared")):a(z("Not able to connect to the server"))}));case 3:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(e){return{type:q,payload:{topHistory:e}}},Z=function(e){return{type:W,payload:{error:e}}},$=function(e){return{type:Y,payload:{history:e}}},K=function(e){return{type:J,payload:{users:e}}},ee=a(9),te=a(410),ae=a(20),ne=a(11),re=a.n(ne),ce=a(180),le=a.n(ce),se=Object(ae.g)((function(e){var t=e.topHistory,a=e.getPersonById,n=e.history;return r.a.createElement(te.a,{bsPrefix:"list-inline",className:"text-center",as:"ul"},t.map((function(e){var t=e.name,c=e.imgUrl,l=e.searchHistoryId;return r.a.createElement(te.a.Item,{bsPrefix:"list-inline-item",action:!0,as:"li",key:re()(l)},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{onClick:function(){a(l).then((function(){n.push("/results")}))}},c?r.a.createElement("img",{src:c,alt:"Unable to load",className:"img-fluid rounded-circle mb-3",style:{height:"85px",width:"85px"}}):r.a.createElement("img",{src:le.a,alt:"Unable to load",className:"img-fluid mb-3",style:{height:"90px",width:"90px"}}),r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"text-sm"},t)))))})))})),oe=a(182),me=a(184),ue=a(393),ie=a(152),de=a(175),pe=a(174),Ee=function(e){var t=e.input,a=e.placeholder,n=e.className,c=e.size;return r.a.createElement(oe.a,Object.assign({},t,{placeholder:a,className:n,size:c}))},he=function(e){var t=e.handleSubmit,a=e.open,n=e.dirty;return r.a.createElement(ie.a,{className:"flex-fill",onSubmit:t},r.a.createElement("div",{className:"input-group"},r.a.createElement(de.a,{component:Ee,name:"query",placeholder:"Name, Email, Username or Phone",size:"lg"}),r.a.createElement(de.a,{component:Ee,name:"location",placeholder:"Location (optionally)",className:"d-none d-xl-block",size:"lg"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement(me.a,{type:"submit",disabled:!n||a,title:!n&&"Fill in the input"},r.a.createElement(ue.a,null)))))};he=Object(pe.a)({form:"lineSearch",destroyOnUnmount:!1,onSubmit:function(e,t,a){var n=e.query,r=e.location;t(Q(n,r))}})(he);var fe=Object(ee.b)((function(e,t){return Object(b.a)({open:e.advReducer.open,initialState:e.oneLineReducer},t)}),null)(he),be=a(185),ye=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onFieldChange,a=e.setOpen,n=e.setClose,c=e.open,l=e.errorHandle;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-100 d-flex py-3 order-md-1"},r.a.createElement(fe,{onFieldChange:t}),r.a.createElement("div",{className:"mx-3 align-self-center d-none d-xl-block d-lg-block"},r.a.createElement(be.a,{id:"advancedButton",className:"font-weight-bold text-decoration-none",role:"button",onClick:function(){return c?n():a()}},c?"Back to basic":"Advanced"))),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:5},l&&r.a.createElement("div",{className:"w-100 d-flex py-3 order-md-1"},r.a.createElement("span",{className:"error-text"},l)))))}}]),a}(n.Component),ge=Object(ee.b)((function(e,t){return Object(b.a)(Object(b.a)({},t),{},{open:e.advReducer.open,errorHandle:e.personReducer.errorHandle})}),(function(e){return{setOpen:function(){return e(k())},setClose:function(){return e(w())}}}))(Object(ae.g)(ye)),ve=Object(ee.b)((function(e){return{open:e.advReducer.open,errorHandle:e.personReducer.errorHandle}}),(function(e){return{setOpen:function(){return e(k())}}}))(ge),Ne=a(402),Oe=a(395),je=a(176),xe=a(82),Ce=a(85),ke=function(e){var t=e.text,a=e.index,n=e.fields;return r.a.createElement(be.a,{className:"text-sm ".concat(a?"text-danger":null),onClick:function(){return a?n.remove(a):n.length<5?n.push({}):null}},a?"Remove":r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,null)," Add another ".concat(t)))},we=function(e){var t=e.placeholder,a=e.type,n=e.meta,c=n.touched,l=n.error,s=e.input;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a.Control,Object.assign({placeholder:t,type:a},s,{className:c&&l&&"error-input"})))},Re=function(e){var t=e.fields;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(i.a,{key:re()(a)},r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},!a&&t.name[0].toUpperCase()+t.name.slice(1)),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:4,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"First Name",name:"".concat(e,".first"),type:"text",component:we})),r.a.createElement(d.a,{md:4,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Middle Name",name:"".concat(e,".middle"),type:"text",component:we})),r.a.createElement(d.a,{md:4,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Last Name",name:"".concat(e,".last"),type:"text",component:we})))),r.a.createElement(d.a,{md:3},r.a.createElement(ke,{fields:t,text:"Name",index:a})))})))},Fe=function(e){var t=e.fields;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(i.a,{key:re()(a)},r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},!a&&t.name[0].toUpperCase()+t.name.slice(1)),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:12,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Email",name:"".concat(e,".address"),type:"email",component:we})))),r.a.createElement(d.a,{md:3},r.a.createElement(ke,{fields:t,text:"Email",index:a})))})))},Se=function(e){var t=e.fields;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(i.a,{key:re()(a)},r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},!a&&t.name[0].toUpperCase()+t.name.slice(1)),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:4,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Country code",name:"".concat(e,".country_code"),type:"text",component:we})),r.a.createElement(d.a,{md:8,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Phone",name:"".concat(e,".number"),type:"text",component:we})))),r.a.createElement(d.a,{md:3},r.a.createElement(ke,{fields:t,text:"Phone",index:a})))})))},_e=function(e){var t=e.fields;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(i.a,{key:re()(a)},r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},!a&&t.name[0].toUpperCase()+t.name.slice(1)),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:12,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Username",name:"".concat(e,".content"),type:"text",component:we})))),r.a.createElement(d.a,{md:3},r.a.createElement(ke,{fields:t,text:"Username",index:a})))})))},De=function(e){var t=e.fields;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(i.a,{key:re()(a)},r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},!a&&t.name[0].toUpperCase()+t.name.slice(1)),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:2,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"House",name:"".concat(e,".house"),type:"text",component:we})),r.a.createElement(d.a,{md:3,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Street",name:"".concat(e,".street"),type:"text",component:we})),r.a.createElement(d.a,{md:2,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Zip",name:"".concat(e,".zip_code"),type:"text",component:we})),r.a.createElement(d.a,{md:5,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"City, State an Country",name:"".concat(e,".city"),type:"text",component:we})))),r.a.createElement(d.a,{md:3},r.a.createElement(ke,{fields:t,text:"Address",index:a})))})))},He=function(e){var t=e.fields;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(i.a,{key:re()(a)},r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},!a&&t.name[0].toUpperCase()+t.name.slice(1)),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:4,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"First Name",name:"".concat(e,".first"),type:"text",component:we})),r.a.createElement(d.a,{md:4,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Middle Name",name:"".concat(e,".middle"),type:"text",component:we})),r.a.createElement(d.a,{md:4,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Last Name",name:"".concat(e,".last"),type:"text",component:we})))),r.a.createElement(d.a,{md:3},r.a.createElement(ke,{fields:t,text:"Name",index:a})))})))},Pe=function(e){var t=e.fields;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(i.a,{key:re()(a)},r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},!a&&t.name[0].toUpperCase()+t.name.slice(1)),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:6,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"School",name:"".concat(e,".school"),type:"text",component:we})),r.a.createElement(d.a,{md:6,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Academic Degree",name:"".concat(e,".degree"),type:"text",component:we})))),r.a.createElement(d.a,{md:3},r.a.createElement(ke,{fields:t,text:"Education",index:a})))})))},Ie=function(e){var t=e.fields;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(i.a,{key:re()(a)},r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},!a&&t.name[0].toUpperCase()+t.name.slice(1)),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:6,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Organization",name:"".concat(e,".organization"),type:"text",component:we})),r.a.createElement(d.a,{md:6,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Job Title",name:"".concat(e,".title"),type:"text",component:we})))),r.a.createElement(d.a,{md:3},r.a.createElement(ke,{fields:t,text:"Job",index:a})))})))},Le=function(e){e.fields;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(d.a,{md:2,as:"label",className:"font-weight-bold"},"Age"),r.a.createElement(d.a,{md:7},r.a.createElement("div",{className:"form-row"},r.a.createElement(d.a,{md:12,as:Ne.a.Group},r.a.createElement(de.a,{placeholder:"Age of range (e.g. 30-35)",name:"dob",type:"text",component:we}))))))},Qe=Object(pe.a)({form:"advancedSearch",destroyOnUnmount:!1,onSubmit:function(e,t,a){!function(e){var t={phones:[]},a=!1,n=!0;if(Object.keys(e).forEach((function(t){Array.prototype.slice.call(e[t]).forEach((function(e){Object.keys(e).length&&(n=!1)}))})),e.phones&&e.phones.forEach((function(e,n){e.code&&!e.number&&(t.phones[n]={number:"Required"},a=!0)})),a)throw new Ce.a(Object(b.a)(Object(b.a)({},t),{},{_error:"Fill in recommended values"}));if(n)throw new Ce.a({_error:"Sorry, search is not available with the given information. \n        Please make sure to fill in, at least, one of the following fields: \n        Name, Email, a valid Phone number and Country code, Username or a full US address"})}(e),a.send(e),t(Object(xe.a)("advancedSearch"))},enableReinitialize:!0})((function(e){var t=e.handleSubmit,a=e.error,n=e.reset,c=e.dirty;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{onSubmit:t},r.a.createElement("div",{id:"advNames",className:"mb-3"},r.a.createElement(je.a,{name:"names",component:Re})),r.a.createElement("div",{id:"advEmails",className:"mb-3"},r.a.createElement(je.a,{name:"emails",component:Fe})),r.a.createElement("div",{id:"advPhones",className:"mb-3"},r.a.createElement(je.a,{name:"phones",component:Se})),r.a.createElement("div",{id:"advUsernames",className:"mb-3"},r.a.createElement(je.a,{name:"usernames",component:_e})),r.a.createElement("div",{id:"advAddresses",className:"mb-3"},r.a.createElement(je.a,{name:"addresses",component:De})),r.a.createElement("div",{id:"advAssociates",className:"mb-3"},r.a.createElement(je.a,{name:"relationships",component:He})),r.a.createElement("div",{id:"advEducations",className:"mb-3"},r.a.createElement(je.a,{name:"educations",component:Pe})),r.a.createElement("div",{id:"advJobs",className:"mb-3"},r.a.createElement(je.a,{name:"jobs",component:Ie})),r.a.createElement("div",{id:"advAge",className:"mb-3"},r.a.createElement(de.a,{name:"dob",component:Le})),a&&r.a.createElement("div",{className:"mb-3"},r.a.createElement("p",{className:"error-text"},a)),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:6},r.a.createElement(me.a,{id:"searchButton",size:"lg",type:"submit",className:"mr-1",disabled:!c,title:!c&&"Fill in some fields"},"Search"),r.a.createElement(me.a,{size:"lg",className:"btn btn-danger ml-1",onClick:n},"Clear Form")))))})),Ue=a(187),Te=(a(362),function(e){return r.a.createElement("div",{className:"loader-overlay"},r.a.createElement("div",{className:"loader"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)))}),Ge=a(56),Ae=a.n(Ge),Me=Object(ee.b)((function(e,t){var a=Object(b.a)({},e.personReducer.searchQuery);return Object.keys(a).forEach((function(e){return a[e].length?null:delete a[e]})),Object(b.a)({isFetching:e.personReducer.isFetching,open:e.advReducer.open,initialValues:Object.keys(a).length?Object(b.a)(Object(b.a)({},e.advReducer),a):e.advReducer},t)}),(function(e){return{send:function(t){var a={};Object.keys(t).forEach((function(e){if("dob"===e)a[e]=t[e];else{var n=Array.prototype.slice.call(t[e]);a[e]=n.filter((function(e){return Object.keys(e).length}))}})),console.log(a);var n=a.dob.split("-"),r={};return 1===n.length?(r.start=new Date,r.start.setFullYear(r.start.getFullYear()-+n[0]-1),r.end=new Date,r.end.setFullYear(r.end.getFullYear()-+n[0]),r.start=Ae()(r.start).format("yyyy-MM-DD"),r.end=Ae()(r.end).format("yyyy-MM-DD")):(r.start=new Date,r.start.setFullYear(r.start.getFullYear()-+n[1]-1),r.start.setDate(r.start.getDate()+1),r.end=new Date,r.end.setFullYear(r.end.getFullYear()-+n[0]),r.start=Ae()(r.start).format("yyyy-MM-DD"),r.end=Ae()(r.end).format("yyyy-MM-DD")),a.dob={date_range:Object(b.a)({},r)},console.log(a),delete a.open,e(T(a))}}}))((function(e){return r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},r.a.createElement(Ue.a,{in:e.open},r.a.createElement("div",{id:"collapseAdvanced"},e.isFetching&&r.a.createElement(Te,null),r.a.createElement(Qe,e)))))})),ze=a(48),Be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getTopHistory,a=e.setClose;e.open&&a(),t()}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.topHistory,n=e.getPersonById,c=e.isFetching;return r.a.createElement("main",{className:"px-2 mb-5"},r.a.createElement(ze.a,null,r.a.createElement("title",null,"MGAP Search")),c?r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},r.a.createElement(Te,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-3 text-primary mb3"},"MGAP"),r.a.createElement(ve,null),r.a.createElement(Me,null),r.a.createElement(i.a,{id:"relatedSearch",className:"mb-4 pt-5"},r.a.createElement(d.a,{md:12},r.a.createElement(se,{topHistory:a,getPersonById:n}))),t?r.a.createElement(i.a,null,r.a.createElement(d.a,{className:"text-center"},r.a.createElement(p.a,{to:"/history"},"View full history"))):null))}}]),a}(n.Component),qe=Object(ee.b)((function(e){return{loggedIn:e.authReducer.loggedIn,isFetching:e.personReducer.isFetching,topHistory:e.historyReducer.topHistory,person:e.personReducer.person,possible_persons:e.personReducer.possible_persons,error:e.personReducer.errorHandle,open:e.advReducer.open}}),(function(e){return{getTopHistory:function(){return e(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0)),e.next=3,y.get("/topHistory").then((function(e){t(B(!1)),t(M()),200===e.status&&(t(X(e.data)),t(U()))})).catch((function(e){t(M()),t(B(!1)),e.response&&400===e.response.status?t(Z("Bad request")):e.response&&401===e.response.status?t(Z("You're not authorized")):t(z("Not able to connect to the server"))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getPersonById:function(t){return e(V(t))},setClose:function(){return e(w())}}}))(Be),Ye=a(64),Je=a(396),We=a(403),Ve=a(30),Xe=a(401),Ze=a(195),$e=function(e){return e&&e.length?e[0].toUpperCase()+e.slice(1):null},Ke=function(e){var t=e.type,a=e.property,r=e.searchQuery;return n.createElement("div",{className:"text-muted"},r[t].length?r[t].map((function(e){return a.map((function(a){return n.createElement("div",null,n.createElement("span",{className:"text-primary ",style:{fontWeight:"500"}},$e(t),": "),e[a])}))})):null)},et={addresses:["display"],emails:["address"],names:["display"],jobs:["display"],educations:["display"],phones:["display"],usernames:["content"]},tt=function(e){var t=e.searchQuery;return Object.keys(t).map((function(e,a){return 0!==t[e].length&&!e.includes("@")&&r.a.createElement(Ke,{key:a,type:e,property:et[e],searchQuery:t})}))},at=function(e){var t=e.historyRecords,a=e.history,n=e.getPersonById;return t&&t.records.length?t.records.map((function(e,t){return r.a.createElement(i.a,{className:"pt-2 pb-5 border-bottom",key:re()(t)},r.a.createElement(d.a,{md:3,className:"text-nowrap"},e.searchDate),r.a.createElement(d.a,{md:4,className:"text-truncate"},e.name),r.a.createElement(d.a,{md:3,className:"text-truncate"},r.a.createElement(tt,{searchQuery:e.query})),r.a.createElement(d.a,{md:2,className:"text-right text-nowrap"},r.a.createElement(be.a,{onClick:function(){n(e.searchHistoryId).then((function(){a.push("/results")}))}},r.a.createElement(ue.a,{className:"mx-2"}))))})):r.a.createElement("h1",{className:"h3"},"No results found for the dates")};at=Object(ae.g)(at);var nt=Object(ee.b)(null,(function(e){return{getPersonById:function(t){return e(V(t))}}}))(at),rt=a(190),ct=a.n(rt),lt=Te,st=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={pageSize:5,currentPage:1,userLogin:e.login,startDate:null,endDate:null},n.startOnChange=n.startOnChange.bind(Object(Ye.a)(n)),n.endOnChange=n.endOnChange.bind(Object(Ye.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Ye.a)(n)),n.userChange=n.userChange.bind(Object(Ye.a)(n)),n}return Object(o.a)(a,[{key:"handlePageChange",value:function(e){var t=this;this.setState({currentPage:e},(function(){t.historyQuery()}))}},{key:"componentDidMount",value:function(){this.props.open&&this.props.setClose(),this.historyQuery()}},{key:"historyQuery",value:function(){var e=this.state,t=e.pageSize,a=e.currentPage,n=e.userLogin,r=e.startDate,c=e.endDate,l={pageSize:t,currentPage:a-1,userLogin:n};r&&(l.startDate=Ge(r).format("yyyy-MM-DD")),c&&(l.endDate=Ge(c).format("yyyy-MM-DD")),(0,this.props.getHistory)(l)}},{key:"startOnChange",value:function(e){var t=this;this.setState({startDate:e},(function(){t.historyQuery()}))}},{key:"endOnChange",value:function(e){var t=this;this.setState({endDate:e},(function(){t.historyQuery()}))}},{key:"userChange",value:function(e){var t=this;this.setState({userLogin:e.target.value,currentPage:1},(function(){t.historyQuery()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.startDate,n=t.endDate,c=t.userLogin,l=this.props,s=l.history,o=l.users,m=l.isFetching;return r.a.createElement("main",{className:"py-4"},r.a.createElement(ze.a,null,r.a.createElement("title",null,"Search History")),r.a.createElement(Je.a,null,r.a.createElement("div",{className:"border-bottom px-3 py-2 mb-5"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"h2 text-primary"},"History"))),m?r.a.createElement(lt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"px-3 mb-5"},r.a.createElement(d.a,{xs:6},r.a.createElement(d.a,{xs:6},r.a.createElement(We.a,{className:"bootstrap-select"},r.a.createElement(Ne.a.Control,{as:"select",value:c,onChange:this.userChange},o.map((function(e){return r.a.createElement("option",{key:re()(e),value:e.login},e.login)})))))),r.a.createElement(d.a,{xs:6},r.a.createElement(We.a,{className:"pb-5 text-right"},r.a.createElement("div",{className:"form-inline"},r.a.createElement(Ve.a,{utils:Ze.a},r.a.createElement(Xe.a,{label:"Start Date",value:a,onChange:this.startOnChange}),"\xa0 \xa0",r.a.createElement(Xe.a,{label:"End Date",value:n,onChange:this.endOnChange})))))),r.a.createElement("div",{className:"px-3 mb-5",id:"historyTable"},r.a.createElement(nt,{historyRecords:s}))),s&&s.records&&s.records.length?r.a.createElement(ct.a,{breakClassName:"page-item",breakLinkClassName:"page-link",previousLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",nextLinkClassName:"page-link",pageClassName:"page-item",pageLinkClassName:"page-link",activeClassName:"active",containerClassName:"pagination",pageCount:s.pageCount,pageRangeDisplayed:5,marginPagesDisplayed:1,onPageChange:function(t){return e.handlePageChange(t.selected)}}):null))}}]),a}(n.Component),ot=Object(ee.b)((function(e){return{history:e.historyReducer.history,users:e.historyReducer.users,login:e.authReducer.data.login,isFetching:e.personReducer.isFetching,open:e.advReducer.open}}),(function(e){return{getHistory:function(t){return e(function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(B(!0)),N(e).then((function(e){a(M()),a(B(!1)),200===e.status&&(a($(e.data)),a(U()))})).catch((function(e){a(B(!1)),a(M()),e.response&&400===e.response.status?a(Z("Bad request")):e.response&&401===e.response.status?a(Z("You're not authorized")):a(z("Not able to connect to the server"))})),y.get("/users").then((function(e){200===e.status&&(a(K(e.data)),a(U()))})).catch((function(e){e.response&&400===e.response.status?a(Z("Bad request")):e.response&&401===e.response.status?a(Z("You're not authorized")):a(z("Not able to connect to the server"))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},setClose:function(){return e(w())}}}))(st),mt=a(405),ut=a(406),it=a(397),dt="LOGIN",pt="LOGOUT",Et="LOGOUT_FAILED",ht="FETCH_STARTED",ft="FETCH_FAILED",bt=function(){return{type:pt}},yt=function(){return{type:ht}},gt=function(e){return{type:ft,payload:{error:e}}},vt=function(e){return{type:dt,payload:{data:e}}},Nt=Object(ee.b)((function(e){return{data:e.authReducer.data}}),(function(e){return{sendSignout:function(){return e(function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a().authReducer.session_token,(r=n,y.get("/signout",{headers:{Authorization:r}})).then((function(e){t(bt())})).catch((function(e){t(bt()),t(gt("Not able to connect to the server"))}));case 2:case"end":return e.stop()}var r}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.sendSignout,a=e.data;return r.a.createElement(ut.a,{className:"ml-auto order-md-2",as:"ul"},r.a.createElement(We.a,{as:"li",className:"nav-item py-2"},r.a.createElement(We.a.Toggle,{as:"a",className:"nav-link d-none d-sm-block text-uppercase"},r.a.createElement(it.a,{size:16}),r.a.createElement("strong",null," "+a.login)),r.a.createElement(We.a.Toggle,{bsPrefix:"no-style",childBsPrefix:"no-style",as:"a",className:"nav-link d-block d-sm-none text-right"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(We.a.Menu,{id:"ddUserMenu",alignRight:!0},r.a.createElement(We.a.Header,{as:"h6",className:"text-center"},r.a.createElement("strong",null," "+a.email)),r.a.createElement(We.a.Divider,null),r.a.createElement(We.a.Item,null,r.a.createElement(p.a,{to:"/history"},r.a.createElement(ue.a,{size:16})," Search History")),r.a.createElement(We.a.Divider,null),r.a.createElement(Ne.a.Row,{className:"mb-2"},r.a.createElement(d.a,{className:"mr-3 text-center"},r.a.createElement(me.a,{variant:"primary",onClick:function(){return t()}},"Sign out"))))))})),Ot=function(e){var t=e.location.pathname,a=e.loggedIn;return r.a.createElement("header",{className:"w-100 mb-auto"},r.a.createElement(mt.a,{expand:"md",bg:"light",className:"pt-4 ".concat("/"!==t?"shadow-sm":null)},r.a.createElement(Je.a,null,"/"!==t?r.a.createElement(r.a.Fragment,null,r.a.createElement(mt.a.Brand,{as:p.a,to:"/",className:"mr-5"},r.a.createElement("h1",{className:"display-3 text-primary"},"MGAP"))):null,a?r.a.createElement(Nt,null):r.a.createElement(p.a,{to:"/login"},"Sign in"),"/"!==t?r.a.createElement(d.a,{md:8},r.a.createElement(ve,null)):null)),r.a.createElement(mt.a,null,r.a.createElement(Je.a,null,"/"!==t?r.a.createElement(Me,null):null)))};Ot=Object(ae.g)(Ot);var jt=Ot=Object(ee.b)((function(e,t){return Object(b.a)(Object(b.a)({},t),{},{loggedIn:e.authReducer.loggedIn})}),null)(Ot),xt=Object(ae.g)((function(e){var t=e.children,a=e.location.pathname;return r.a.createElement(Je.a,{className:"d-flex w-100 h-100 mx-auto flex-column",fluid:"/"!==a},r.a.createElement(jt,null),t,r.a.createElement("footer",{className:"mt-auto"}))})),Ct=(a(366),a(404)),kt=a(398),wt=function(e){var t=e.person,a=t.names,n=t.images,c=t.user_ids,l=(t.urls,t.gender),s=t.origin_countries;return r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{lg:{order:2,span:3},className:"text-lg-left text-center"},r.a.createElement(Ct.a,{className:"mx-auto",indicators:!1,id:"profileImage"},n&&n.length?n.map((function(e){return r.a.createElement(Ct.a.Item,{key:re()(e)},r.a.createElement(kt.a,{fluid:!0,roundedCircle:!0,className:"mb-3 profile-pic",src:"http://thumb.pipl.com/image?height=150&width=150&zoom_face=false&tokens=".concat(e.thumbnail_token)}))})):null)),r.a.createElement(d.a,{lg:{order:1,span:9}},r.a.createElement("div",{className:"mb-5"},r.a.createElement(i.a,null,a.length&&c.length?r.a.createElement(d.a,{lg:8},r.a.createElement("h1",{className:"h3 text-lg-left text-center"},a[0].display," (",c[0].content,")")):null),l?r.a.createElement("div",{className:"text-secondary text-lg-left text-center"},$e(l.content)):null,s&&s.length?r.a.createElement("div",{className:"text-secondary text-lg-left text-center"},"From ",s[0].country):null)))},Rt=a(91),Ft=a(408),St=a(407),_t=function(e){return e&&e.length?e.replace("@","").split("_").map((function(e){return $e(e)})).join(" "):null},Dt=function(e){return r.a.createElement(St.a,e,r.a.createElement(St.a.Title,null,r.a.createElement("strong",null,e.data[e.pointer]||e.data.content||e.data.names[0].display)),Object.keys(e.data).filter((function(t){return t.includes("@")&&!!e.data[t]})).length?r.a.createElement(St.a.Content,null,Object.keys(e.data).filter((function(t){return t.includes("@")&&!!e.data[t]})).map((function(t){return r.a.createElement(i.a,{className:"mb-2"},r.a.createElement(d.a,{md:5},r.a.createElement("strong",null,_t(t))),r.a.createElement(d.a,{md:7,className:"text-secondary"},_t(e.data[t].toString())))}))):null)},Ht=function(e){var t=e.names,a=Object(n.useState)(!1),c=Object(Rt.a)(a,2);c[0],c[1],Object(n.useRef)();return t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"Names"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"display"}))}},r.a.createElement("span",{className:"text-muted"},e.display)))})))))):null},Pt=function(e){var t=e.emails;return t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"Emails"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",data:e,overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"address"}))}},r.a.createElement("span",{className:"text-muted"},e.address)),r.a.createElement("span",{className:"ml-3 text-muted"},_t(e["@type"])))})))))):null},It=function(e){var t=e.addresses;return t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"Addresses"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",data:e,overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"display"}))}},r.a.createElement("span",{className:"text-muted"},e.display)),r.a.createElement("span",{className:"ml-3 text-muted display-6"},_t(e["@type"])))})))))):null},Lt=function(e){var t=e.phones;return t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"Phones"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",data:e,overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"display"}))}},r.a.createElement("span",{className:"text-muted"},e.display_international)),r.a.createElement("span",{className:"ml-3 text-muted"},_t(e["@type"])))})))))):null},Qt=function(e){var t=e.educations;return t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"Educations"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",data:e,overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"display"}))}},r.a.createElement("span",{className:"text-muted"},e.display)))})))))):null},Ut=function(e){var t=e.jobs;return t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"Jobs"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"display"}))}},r.a.createElement("span",{className:"text-muted"},e.display)),r.a.createElement("span",{className:"ml-3 text-muted"},e.industry))})))))):null},Tt=function(e){var t=e.urls;return t&&t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"URLs"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"url"}))}},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.url)),r.a.createElement("span",{className:"ml-3 text-muted"},e["@name"]))})))))):null},Gt=function(e){var t=e.usernames;return t&&t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"Usernames"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"content"}))}},r.a.createElement("span",{className:"text-muted"},e.content)))})))))):null},At=Object(ee.b)(null,(function(e){return{sendAdvanced:function(t){return e(T(t))}}}))((function(e){var t=e.person,a=e.sendAdvanced;return r.a.createElement(i.a,{className:"mb-5"},r.a.createElement(d.a,{md:10},t.names[0]&&r.a.createElement("div",{className:"h4 mb-2"},r.a.createElement(p.a,{to:"/results",onClick:function(){return a(t)}},t.names[0].display)),t.addresses.length?r.a.createElement("div",{className:"text-secondary font-weight-bold"},t.addresses[0].display):null,t.educations.length?r.a.createElement("div",{className:"text-secondary"},t.educations[0].display):null),t.images.length?r.a.createElement(d.a,{md:2},r.a.createElement("img",{alt:"",src:t.images[0].url,style:{height:"65px",width:"65px"},className:"rounded-circle mb-3"})):null)})),Mt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setClose,a=e.open;console.log(a),a&&t()}},{key:"render",value:function(){var e=this.props.persons;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{id:"resultsMain",md:12,ref:this.props.outerRef},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"List of possible persons"),e&&e.length?e.map((function(e){return r.a.createElement(At,{person:e,key:re()(e)})})):r.a.createElement("span",{className:"mx-auto text-muted pb-3"},"None found")))}}]),a}(n.Component),zt=Object(ee.b)((function(e,t){return Object(b.a)(Object(b.a)({},t),{},{open:e.advReducer.open})}),(function(e){return{setClose:function(){return e(w())}}}))(Mt),Bt=Object(ee.b)(null,(function(e){return{sendOneLine:function(t){return e(Q(t))}}}))((function(e){var t=e.relationships,a=e.sendOneLine;return t&&t.length?r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(d.a,{md:12,className:"mb-5"},r.a.createElement("h2",{className:"h4 py-2 border-bottom mb-3"},"Associated with"),r.a.createElement(i.a,null,r.a.createElement(d.a,{md:12},t.map((function(e){return r.a.createElement("div",{className:"mb-2",key:re()(e)},r.a.createElement(Ft.a,{trigger:["hover","focus"],placement:"right",data:e,overlay:function(t){return Dt(Object(b.a)(Object(b.a)({},t),{},{data:e,pointer:"display"}))}},e.names&&e.names.length?r.a.createElement("a",{href:"#",onClick:function(){a(e.names[0].display)}},e.names[0].display):null),r.a.createElement("span",{className:"ml-3 text-muted display-6"},_t(e["@subtype"])))})))))):null})),qt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setClose,a=e.open;console.log(a),a&&t()}},{key:"render",value:function(){var e=this.props,t=e.person,a=e.persons;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,null,r.a.createElement("title",null,t.names[0].display||"No Name")),r.a.createElement(d.a,{md:9,ref:this.props.outerRef},r.a.createElement(wt,{person:t}),r.a.createElement(Ht,{names:t.names}),r.a.createElement(Lt,{phones:t.phones}),r.a.createElement(Pt,{emails:t.emails}),r.a.createElement(Bt,{relationships:t.relationships}),r.a.createElement(It,{addresses:t.addresses}),r.a.createElement(Qt,{educations:t.educations}),r.a.createElement(Ut,{jobs:t.jobs}),r.a.createElement(Tt,{urls:t.urls}),r.a.createElement(Gt,{usernames:t.usernames}),r.a.createElement(i.a,{className:"mx-2"},r.a.createElement(zt,{persons:a}))))}}]),a}(n.Component),Yt=Object(ee.b)((function(e,t){return Object(b.a)(Object(b.a)({},t),{},{open:e.advReducer.open})}),(function(e){return{setClose:function(){return e(w())}}}))(qt),Jt=a(399),Wt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.searchQuery;return r.a.createElement(d.a,{md:3,id:"resultsSidebar",className:"d-xl-block d-lg-block"},r.a.createElement("h6",{className:"pb-2"},"Results for"),e&&r.a.createElement(tt,{searchQuery:e}),r.a.createElement("hr",{className:"mt-3 mb-4"}),r.a.createElement(p.a,{to:"#",onClick:this.props.handleClick,className:"d-none d-md-block text-decoration-none"},r.a.createElement(Jt.a,{className:"f-sm"})," Print"))}}]),a}(n.Component),Vt=a(138),Xt=a.n(Vt),Zt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){(0,this.props.clearPersons)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.person,n=t.persons,c=t.searchQuery,l=t.isFetching,s=t.setIsFetching,o=t.unsetIsFetching;return console.log(a),r.a.createElement("main",{className:"py-4 h-100",ref:function(t){return e.componentRef=t}},r.a.createElement(ze.a,null,r.a.createElement("title",null,"List of possible persons")),r.a.createElement(Je.a,{className:"h-100"},r.a.createElement(i.a,{className:"px-3 py-2 h-100"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt.a,{content:function(){return e.componentRef},onBeforeGetContent:function(){return s()},onBeforePrint:function(){return o()}},r.a.createElement(Vt.PrintContextConsumer,null,(function(e){var t=e.handlePrint;return r.a.createElement(Wt,{handleClick:t,searchQuery:c})}))),l?r.a.createElement(d.a,{md:9},r.a.createElement(Te,null)):r.a.createElement(d.a,{md:9},Object.keys(a).length||Object.keys(n).length?Object.keys(a).length?r.a.createElement(Yt,{person:a,persons:n}):r.a.createElement(zt,{persons:n}):r.a.createElement(d.a,{md:9,className:"d-flex align-items-center justify-content-center"},r.a.createElement("h1",null,"No person found")))))))}}]),a}(n.Component),$t=Object(ee.b)((function(e){return{person:e.personReducer.person,persons:e.personReducer.possible_persons,searchQuery:e.personReducer.searchQuery,errorHandle:e.personReducer.errorHandle,isFetching:e.personReducer.isFetching}}),(function(e){return{clearPersons:function(){return e(M())},setIsFetching:function(){return e(B(!0))},unsetIsFetching:function(){return e(B(!1))}}}))(Zt),Kt=a(400),ea=a(409),ta=Object(ee.b)((function(e){return{error:e.authReducer.error,fetching:e.authReducer.fetching}}),(function(e){return{fetchUser:function(t,a){return e(function(e,t){return function(){var a=Object(f.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(yt()),a.next=3,(r={login:e,password:t},y.post("/signin",r)).then((function(e){200===e.status&&n(vt(e.data))})).catch((function(e){e.response&&401===e.response.status?n(gt("Wrong login or password")):e.response&&500===e.response.status?n(gt("Server error")):n(gt("Not able to connect to the server"))}));case 3:case"end":return a.stop()}var r}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))((function(e){var t=e.error,a=e.fetchUser,c=e.fetching,l=Object(n.useState)(""),s=Object(Rt.a)(l,2),o=s[0],m=s[1],u=Object(n.useState)(""),d=Object(Rt.a)(u,2),p=d[0],E=d[1];return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(Je.a,{className:"d-flex justify-content-center align-items-center w-100 h-100"},r.a.createElement(Kt.a,{animation:"border"})):r.a.createElement(Je.a,{className:"text-center h-100",fluid:!0},r.a.createElement(i.a,{className:"h-100 text-center"},r.a.createElement(Ne.a,{className:"mx-auto my-auto",style:{minWidth:"300px"}},r.a.createElement("h1",{className:"h3 mb-3"},"Sign in"),r.a.createElement(Ne.a.Label,{htmlFor:"login"}),r.a.createElement(Ne.a.Control,{id:"login",placeholder:"Login",autoComplete:"username",value:o,onChange:function(e){return m(e.target.value)}}),r.a.createElement(Ne.a.Label,{htmlFor:"password"}),r.a.createElement(Ne.a.Control,{id:"password",placeholder:"Password",autoComplete:"current-password",type:"password",value:p,onChange:function(e){return E(e.target.value)}}),r.a.createElement("hr",null),t&&t.length?r.a.createElement(ea.a,{variant:"danger"},t):null,r.a.createElement(me.a,{block:!0,onClick:function(){a(o,p)}},"Sign in")))))})),aa=Object(ee.b)((function(e){return{loggedIn:e.authReducer.loggedIn}}),null)((function(e){var t=e.loggedIn;return r.a.createElement(ae.d,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.b,{path:"/",exact:!0,render:function(){return r.a.createElement(xt,null,r.a.createElement(qe,null))}}),r.a.createElement(ae.b,{path:"/history",render:function(){return r.a.createElement(xt,null,r.a.createElement(ot,null))}}),r.a.createElement(ae.b,{path:"/results",render:function(){return r.a.createElement(xt,null,r.a.createElement($t,null))}}),r.a.createElement(ae.b,{path:"/searchHistory/:id",render:function(){return r.a.createElement(xt,null,r.a.createElement(Yt,null))}}),r.a.createElement(ae.a,{to:"/"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.b,{path:"/login",component:ta}),r.a.createElement(ae.a,{to:"/login"})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var na=a(177),ra=a(17),ca={names:[{}],emails:[{}],phones:[{}],usernames:[{}],addresses:[{}],relationships:[{}],educations:[{}],jobs:[{}],dob:"",open:!1},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(b.a)(Object(b.a)({},e),{},{open:!0});case C:return Object(b.a)(Object(b.a)({},e),{},{open:!1});default:return e}},sa={loggedIn:!1,fetching:!1,error:null,data:{}},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:var a=t.payload.data;return Object(b.a)(Object(b.a)({},e),{},{loggedIn:!0,fetching:!1,data:a,error:null});case pt:return Object(b.a)(Object(b.a)({},e),{},{loggedIn:!1,session_token:null});case ht:return Object(b.a)(Object(b.a)({},e),{},{fetching:!0});case ft:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload.error,fetching:!1});case Et:default:return e}},ma={topHistory:[],getFromHistory:{},getHistory:{},users:[],error:null},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload.error});case q:var a=t.payload.topHistory;return Object(b.a)(Object(b.a)({},e),{},{topHistory:a});case Y:var n=t.payload.history;return Object(b.a)(Object(b.a)({},e),{},{history:n});case J:var r=t.payload.users;return Object(b.a)(Object(b.a)({},e),{},{users:r});default:return e}},ia={personsCount:0,possible_persons:[],person:{},errorHandle:!1,isFetching:!1},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0,a=t.payload||0,n=a.personsCount,r=a.searchQuery;switch(t.type){case R:var c=t.payload.person;return Object(b.a)(Object(b.a)({},e),{},{person:c,personsCount:n,searchQuery:r,errorHandle:!1});case F:var l=t.payload.possible_persons;return Object(b.a)(Object(b.a)({},e),{},{possible_persons:l,personsCount:n,searchQuery:r,errorHandle:!1});case D:return Object(b.a)(Object(b.a)({},e),{},{errorHandle:!1});case _:return console.log(t.status),Object(b.a)(Object(b.a)({},e),{},{errorHandle:t.status});case H:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case S:return Object(b.a)(Object(b.a)({},e),{},{person:{},possible_persons:[]});case P:var s=t.searchQuery;return Object(b.a)(Object(b.a)({},e),{},{searchQuery:s});default:return e}},pa=a(194),Ea=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={error:null,errorInfo:null},n}return Object(o.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){console.log("test");var e=this.state.error,t=this.props,a=t.authError,n=t.historyError;return e||a||n?r.a.createElement("main",{className:"mx-3 h-100"},r.a.createElement("div",{className:"h-100 d-flex flex-column align-items-center justify-content-center"},r.a.createElement("h1",{className:"display-3 text-primary mb3"},"MGAP"),r.a.createElement("p",{className:"h5 text-muted"},"Error: ",a||n||e.message))):this.props.children}}]),a}(n.Component),ha=Object(ee.b)((function(e){return{authError:e.authReducer.error,historyError:e.historyReducer.error}}),null)(Ea),fa={query:"",location:""},ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0;return t.type,e},ya=Object(ra.c)({form:na.a,advReducer:la,authReducer:oa,historyReducer:ua,personReducer:da,oneLineReducer:ba}),ga=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ra.d,va=Object(ra.e)(ya,ga(Object(ra.a)(pa.a)));l.a.render(r.a.createElement(ee.a,{store:va},r.a.createElement(ae.c,{history:j},r.a.createElement(ha,null,r.a.createElement(aa,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[235,1,2]]]);
//# sourceMappingURL=main.6987a5df.chunk.js.map